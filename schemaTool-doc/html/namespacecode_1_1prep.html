<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>schemaTool: code.prep Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="2017-logo-colour-01-150.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">schemaTool
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">A tool to create the schema.org json strings for the datasets</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespacecode_1_1prep.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">code.prep Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcode_1_1prep_1_1_expt.html">Expt</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3ad709b961b790345e50df21281484a0"><td class="memItemLeft" align="right" valign="top"><a id="a3ad709b961b790345e50df21281484a0"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>connect</b> ()</td></tr>
<tr class="separator:a3ad709b961b790345e50df21281484a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a033cb4dadb433372ad3e9dae4026213c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecode_1_1prep.html#a033cb4dadb433372ad3e9dae4026213c">getCursor</a> ()</td></tr>
<tr class="separator:a033cb4dadb433372ad3e9dae4026213c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ec56097dfef564493013a1197c38e3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecode_1_1prep.html#a90ec56097dfef564493013a1197c38e3">getExperiments</a> ()</td></tr>
<tr class="separator:a90ec56097dfef564493013a1197c38e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a996c6a3835c3982fdd6a82483100d1e6"><td class="memItemLeft" align="right" valign="top"><a id="a996c6a3835c3982fdd6a82483100d1e6"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>makeJSON</b> (results)</td></tr>
<tr class="separator:a996c6a3835c3982fdd6a82483100d1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4975d54db06e31294b566e5156f65b2b"><td class="memItemLeft" align="right" valign="top"><a id="a4975d54db06e31294b566e5156f65b2b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>makedirectories</b> (results)</td></tr>
<tr class="separator:a4975d54db06e31294b566e5156f65b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af9a01931a2f710a5b05ea649fc17667f"><td class="memItemLeft" align="right" valign="top"><a id="af9a01931a2f710a5b05ea649fc17667f"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>results</b> = <a class="el" href="namespacecode_1_1prep.html#a90ec56097dfef564493013a1197c38e3">getExperiments</a>()</td></tr>
<tr class="separator:af9a01931a2f710a5b05ea649fc17667f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e0e92f5a3eefd5fc2c3a57767b92bab"><td class="memItemLeft" align="right" valign="top"><a id="a2e0e92f5a3eefd5fc2c3a57767b92bab"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>expts</b> = makeJSON(results)</td></tr>
<tr class="separator:a2e0e92f5a3eefd5fc2c3a57767b92bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a273f217eedc278d2fb31495d15f81f"><td class="memItemLeft" align="right" valign="top"><a id="a5a273f217eedc278d2fb31495d15f81f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>strJsonExpts</b> = json.dumps(expts, indent=4)</td></tr>
<tr class="separator:a5a273f217eedc278d2fb31495d15f81f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6b1cbd30b8b8bea25d7f0eae468df6"><td class="memItemLeft" align="right" valign="top"><a id="acd6b1cbd30b8b8bea25d7f0eae468df6"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>dirs</b> = makedirectories(results)</td></tr>
<tr class="separator:acd6b1cbd30b8b8bea25d7f0eae468df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">@package prep.py
Created on 11 June 2019

@author: castells
@description: Prepare the staging area. 

Define your staging main folder in settings.py 
When this is ran, it prepares a staging area with all the folders for each experiment. 
It also prepares the experiments.json file and places it in the default directory.

When it is ran again, only newly created experiment folders are added. 
Folders are not removed. 

If a new structure is needed, we may want to rebuild a  new staging area and rerun the programs

The staging area is a metadata folder with a folder per experiment.

This uses the mssql database to make the relevant folders. A json string is not generated. 
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a033cb4dadb433372ad3e9dae4026213c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a033cb4dadb433372ad3e9dae4026213c">&#9670;&nbsp;</a></span>getCursor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def code.prep.getCursor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a new Cursor object using the connection</pre> 
</div>
</div>
<a id="a90ec56097dfef564493013a1197c38e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90ec56097dfef564493013a1197c38e3">&#9670;&nbsp;</a></span>getExperiments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def code.prep.getExperiments </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This gets the experiments. We only need experiments and farms

SELECT Experiments.[Expt-Code], Experiments.Experiment, Experiments.KeyRefCode, Experiments.type, Experiments.[exp-ID]
FROM Experiments
WHERE ((Not (Experiments.type)="Other"))
ORDER BY Experiments.Experiment;</pre> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>code</b></li><li class="navelem"><a class="el" href="namespacecode_1_1prep.html">prep</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
